<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">mod_cluster Documentation</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="mod_cluster Documentation"/><link rel="next" href="Intro.html" title="Chapter 1. Overview"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="Intro.html"><strong>Next</strong></a></li></ul><div class="book" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="d0e1"/>mod_cluster Documentation</h1></div></div><hr/></div><div class="toc"><dl><dt><span class="chapter"><a href="Intro.html">1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="Intro.html#d0e11">1.1. Platforms</a></span></dt><dt><span class="section"><a href="Intro.html#d0e32">1.2. Advantages</a></span></dt><dt><span class="section"><a href="Intro.html#d0e72">1.3. Requirements</a></span></dt><dt><span class="section"><a href="Intro.html#d0e85">1.4. Limitations</a></span></dt><dt><span class="section"><a href="Intro.html#download">1.5. Downloads</a></span></dt><dt><span class="section"><a href="Intro.html#d0e162">1.6. Configuration</a></span></dt><dt><span class="section"><a href="Intro.html#d0e186">1.7. Migration</a></span></dt><dt><span class="section"><a href="Intro.html#d0e202">1.8. SSL support</a></span></dt><dt><span class="section"><a href="Intro.html#d0e216">1.9. Load Balancing Demo Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="Quick_Start_Guide.html">2. Quick Start Guide</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e250">2.1. Download mod_cluster components</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e261">2.2. Install the httpd binary</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e264">2.2.1. Install the whole httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e276">2.2.2. Install only the modules</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e298">2.2.3. Install in home directory</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e309">2.2.4. Install in Windows</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e343">2.3. Configure httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e357">2.4. Install the server-side binaries</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e364">2.4.1. Installing in JBoss AS 6.x</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e369">2.4.2. Installing in JBoss AS 5.x</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e376">2.4.3. Installing in Tomcat</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e384">2.4.4. Installing in JBoss AS 4.2.x or 4.3.x</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e391">2.5. Configuring the server-side</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e394">2.5.1. Configuring mod_cluster with JBoss AS 5.x+</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e399">2.5.2. Configuring mod_cluster with standalone JBoss Web or Tomcat</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e409">2.5.3. Integrate mod_cluster with JBoss AS 4.2.x and 4.3.x</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e419">2.6. Start httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e426">2.7. Start the back-end server</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e429">2.7.1. Starting JBoss AS</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e434">2.7.2. Starting JBossWeb or Tomcat</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e439">2.8. Set up more back-end servers</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e444">2.9. Experiment with the Load Balancing Demo Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.config.html">3. httpd configuration</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e455">3.1. Apache httpd configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e472">3.2. mod_proxy configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e477">3.3. mod_slotmem configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e482">3.4. mod_proxy_cluster</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e485">3.4.1. CreateBalancers</a></span></dt><dt><span class="section"><a href="native.config.html#d0e505">3.4.2. UseAlias</a></span></dt><dt><span class="section"><a href="native.config.html#d0e522">3.4.3. LBstatusRecalTime</a></span></dt><dt><span class="section"><a href="native.config.html#d0e541">3.4.4. WaitForRemove</a></span></dt><dt><span class="section"><a href="native.config.html#d0e548">3.4.5. ProxyPassMatch/ProxyPass</a></span></dt><dt><span class="section"><a href="native.config.html#d0e558">3.4.6. EnableOptions</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#d0e567">3.5. mod_manager</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#EnableMCPMReceive">3.5.1. EnableMCPMReceive</a></span></dt><dt><span class="section"><a href="native.config.html#d0e580">3.5.2. MemManagerFile</a></span></dt><dt><span class="section"><a href="native.config.html#d0e587">3.5.3. Maxcontext</a></span></dt><dt><span class="section"><a href="native.config.html#d0e594">3.5.4. Maxnode</a></span></dt><dt><span class="section"><a href="native.config.html#d0e601">3.5.5. Maxhost</a></span></dt><dt><span class="section"><a href="native.config.html#d0e608">3.5.6. Maxsessionid</a></span></dt><dt><span class="section"><a href="native.config.html#d0e615">3.5.7. MaxMCMPMaxMessSize</a></span></dt><dt><span class="section"><a href="native.config.html#d0e622">3.5.8. ManagerBalancerName</a></span></dt><dt><span class="section"><a href="native.config.html#d0e629">3.5.9. PersistSlots</a></span></dt><dt><span class="section"><a href="native.config.html#d0e636">3.5.10. CheckNonce</a></span></dt><dt><span class="section"><a href="native.config.html#d0e643">3.5.11. AllowDisplay</a></span></dt><dt><span class="section"><a href="native.config.html#d0e650">3.5.12. AllowCmd</a></span></dt><dt><span class="section"><a href="native.config.html#d0e657">3.5.13. ReduceDisplay</a></span></dt><dt><span class="section"><a href="native.config.html#SetHandlermod_cluster-manager">3.5.14. SetHandler mod_cluster-manager</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#mod_advertise">3.6. mod_advertise</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e692">3.6.1. ServerAdvertise</a></span></dt><dt><span class="section"><a href="native.config.html#d0e706">3.6.2. AdvertiseGroup</a></span></dt><dt><span class="section"><a href="native.config.html#d0e713">3.6.3. AdvertiseFrequency</a></span></dt><dt><span class="section"><a href="native.config.html#d0e720">3.6.4. AdvertiseSecurityKey</a></span></dt><dt><span class="section"><a href="native.config.html#d0e727">3.6.5. AdvertiseManagerUrl</a></span></dt><dt><span class="section"><a href="native.config.html#d0e734">3.6.6. AdvertiseBindAddress</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#MinimalExample">3.7. Minimal Example</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.building.html">4. Building httpd modules</a></span></dt><dd><dl><dt><span class="section"><a href="native.building.html#d0e750">4.1. Build a patched httpd from it sources</a></span></dt><dt><span class="section"><a href="native.building.html#d0e770">4.2. Build the 4 modules of mod_cluster</a></span></dt><dt><span class="section"><a href="native.building.html#d0e796">4.3. Build the mod_proxy module</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.install.html">5. Installing httpd modules</a></span></dt><dd><dl><dt><span class="section"><a href="native.install.html#d0e814">5.1. Configuration</a></span></dt><dt><span class="section"><a href="native.install.html#d0e825">5.2. Installing and using the bundles</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.config.html">6. Server-side Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#ModClusterListener">6.1. JBoss AS</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#ModClusterService">6.1.1. Non-clustered mode</a></span></dt><dt><span class="section"><a href="java.config.html#ModClusterConfig">6.1.2. Configuration Properties</a></span></dt><dt><span class="section"><a href="java.config.html#d0e929">6.1.3. Connectors</a></span></dt><dt><span class="section"><a href="java.config.html#jvm-route">6.1.4. Node Identity</a></span></dt></dl></dd><dt><span class="section"><a href="java.config.html#tomcat">6.2. JBoss Web &amp; Tomcat</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#d0e1011">6.2.1. Lifecycle Listener</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1028">6.2.2. Additional Tomcat dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="java.config.html#d0e1036">6.3. Migrating from 1.1.x</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#d0e1041">6.3.1. mod_cluster-jboss-beans.xml</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1049">6.3.2. server.xml</a></span></dt></dl></dd><dt><span class="section"><a href="java.config.html#d0e1054">6.4. Migrating from 1.0.x</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#d0e1059">6.4.1. Dependency with JBoss Web</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1071">6.4.2. server.xml</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1105">6.4.3. mod_cluster-jboss-beans.xml</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.AS7config.html">7. AS7 modcluster subsystem Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystem">7.1. ModCluster Subsystem in JBoss AS7</a></span></dt><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystemMiniConfiguration">7.2. ModCluster Subsystem minimal configuration</a></span></dt><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystemConfiguration">7.3. ModCluster Subsystem configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.AS7config.html#AS7ModClusterConfig">7.3.1. mod-cluster-config Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#SimpleLoadProvider">7.3.2. simple-load-provider Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#DynamicLoadProvider">7.3.3. dynamic-load-provider Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#LoadMetric">7.3.4. load-metric Configuration</a></span></dt><dt><span class="section"><a href="java.AS7config.html#CustomLoadMetric">7.3.5. custom-load-metric Configuration</a></span></dt><dt><span class="section"><a href="java.AS7config.html#UsingJBossConsole">7.3.6. load-metric Configuration with the jboss admin console</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.building.html">8. Building Server-Side Components</a></span></dt><dd><dl><dt><span class="section"><a href="java.building.html#d0e1661">8.1. Requirements</a></span></dt><dt><span class="section"><a href="java.building.html#d0e1673">8.2. Building</a></span></dt><dt><span class="section"><a href="java.building.html#d0e1698">8.3. Build Artifacts</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.properties.html">9. Server-side Configuration Properties</a></span></dt><dd><dl><dt><span class="section"><a href="java.properties.html#mcmp">9.1. Proxy Discovery Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#proxy">9.2. Proxy Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#ssl">9.3. SSL Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#load">9.4. Load Configuration for JBoss Web and Tomcat</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.load.html">10. Server-Side Load Metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#d0e2652">10.1. Web Container metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#ActiveSessionsLoadMetric">10.1.1. <code class="code">ActiveSessionsLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#BusyConnectorsLoadMetric">10.1.2. <code class="code">BusyConnectorsLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#ReceiveTrafficLoadMetric">10.1.3. <code class="code">ReceiveTrafficLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#SendTrafficLoadMetric">10.1.4. <code class="code">SendTrafficLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#RequestCountLoadMetric">10.1.5. <code class="code">RequestCountLoadMetric</code></a></span></dt></dl></dd><dt><span class="section"><a href="java.load.html#d0e2767">10.2. System/JVM metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#AverageSystemLoadMetric">10.2.1. <code class="code">AverageSystemLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#HeapMemoryUsageLoadMetric">10.2.2. <code class="code">HeapMemoryUsageLoadMetric</code></a></span></dt></dl></dd><dt><span class="section"><a href="java.load.html#d0e2803">10.3. Other metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#ConnectionPoolUsageLoadMetric">10.3.1. <code class="code">ConnectionPoolUsageLoadMetric</code></a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.install.html">11. Installing Server-Side Components</a></span></dt><dd><dl><dt><span class="section"><a href="java.install.html#d0e2828">11.1. Installing in JBoss AS 6.0.0.M1 and up</a></span></dt><dt><span class="section"><a href="java.install.html#d0e2833">11.2. Installing in JBoss AS 5.x</a></span></dt><dt><span class="section"><a href="java.install.html#d0e2840">11.3. Installing in Tomcat</a></span></dt></dl></dd><dt><span class="chapter"><a href="UsingSSL.html">12. Using SSL in mod_cluster</a></span></dt><dd><dl><dt><span class="sect1"><a href="UsingSSL.html#d0e2858">12.1. Using SSL between JBossWEB and httpd</a></span></dt><dd><dl><dt><span class="sect2"><a href="UsingSSL.html#d0e2863">12.1.1. Apache httpd configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2878">12.1.2. ClusterListener configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2892">12.1.3. mod-cluster-jboss-beans configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2902">12.1.4. How the diferent files were created</a></span></dt></dl></dd><dt><span class="sect1"><a href="UsingSSL.html#mod_proxy_https">12.2. Using SSL between httpd and JBossWEB</a></span></dt><dd><dl><dt><span class="sect2"><a href="UsingSSL.html#d0e3008">12.2.1. How the diferent files were created</a></span></dt></dl></dd><dt><span class="sect1"><a href="UsingSSL.html#d0e3057">12.3. Forwarding SSL browser informations when using http/https between
    httpd and JBossWEB</a></span></dt></dl></dd><dt><span class="chapter"><a href="mod_jk.html">13. Migration from mod_jk</a></span></dt><dt><span class="chapter"><a href="mod_proxy.html">14. Migration from mod_proxy</a></span></dt><dd><dl><dt><span class="sect1"><a href="mod_proxy.html#d0e3367">14.1. Workers</a></span></dt><dt><span class="sect1"><a href="mod_proxy.html#d0e3564">14.2. Balancers</a></span></dt></dl></dd><dt><span class="chapter"><a href="demo.html">15. Load Balancing Demo Application</a></span></dt><dd><dl><dt><span class="section"><a href="demo.html#d0e3635">15.1. Overview</a></span></dt><dt><span class="section"><a href="demo.html#d0e3659">15.2. Basic Usage</a></span></dt><dt><span class="section"><a href="demo.html#client-config">15.3. Client Driver Configuration Options</a></span></dt><dt><span class="section"><a href="demo.html#load-generation">15.4. Load Generation Scenarios</a></span></dt></dl></dd><dt><span class="chapter"><a href="changelog.html">16. Change Log</a></span></dt><dd><dl><dt><span class="section"><a href="changelog.html#d0e3884">16.1. 1.3.1.Final (6 May 2015)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3900">16.2. 1.3.0.Final (06 February 2014)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3916">16.3. 1.2.6.Final (07 September 2013)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3932">16.4. 1.2.5.Final (30 August 2013)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4028">16.5. 1.2.4.Final (24 April 2013)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4074">16.6. 1.2.3.Final (18 October 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4110">16.7. 1.2.2.Final (06 September 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4196">16.8. 1.2.1.Final (03 May 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4292">16.9. 1.2.0.Final (06 February 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4348">16.10. 1.2.0.Beta4 (26 January 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4464">16.11. 1.2.0.Beta3 (03 January 2012)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4469">16.12. 1.2.0.Beta2 (11 December 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4485">16.13. 1.2.0.Beta1 (06 December 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4541">16.14. 1.1.3.Final (12 August 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4587">16.15. 1.1.2.Final (21 April 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4693">16.16. 1.1.1.Final (31 January 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4819">16.17. 1.1.0.Final (13 August 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4945">16.18. 1.1.0.CR3 (15 June 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e5041">16.19. 1.1.0.CR2 (11 May 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e5137">16.20. 1.1.0.CR1 (22 March 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e5343">16.21. 1.1.0.Beta1 (30 October 2009)</a></span></dt></dl></dd><dt><span class="chapter"><a href="faq.html">17. Frequently Asked questions</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#advertisemessage">17.1. What is Advertise</a></span></dt><dt><span class="section"><a href="faq.html#d0e5571">17.2. What to do if I don't want to use Advertise (multicast):</a></span></dt><dt><span class="section"><a href="faq.html#d0e5586">17.3. I am using Tomcat 7 / 6 what should I do:</a></span></dt><dt><span class="section"><a href="faq.html#d0e5594">17.4. It is not working what should I do:</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#d0e5599">17.4.1. No error</a></span></dt><dt><span class="section"><a href="faq.html#d0e5650">17.4.2. Error in server.log or catalina.out</a></span></dt><dt><span class="section"><a href="faq.html#d0e5676">17.4.3. Error in error_log</a></span></dt></dl></dd><dt><span class="section"><a href="faq.html#d0e5691">17.5. I have "HTTP/1.1 501 Method Not Implemented"</a></span></dt><dt><span class="section"><a href="faq.html#d0e5701">17.6. Redirect is not working:</a></span></dt><dt><span class="section"><a href="faq.html#d0e5709">17.7. I have more than one Connector mod_cluster does use the right one</a></span></dt><dt><span class="section"><a href="faq.html#d0e5720">17.8. Chrome can't diplay /mod_cluster_manager page</a></span></dt><dt><span class="section"><a href="faq.html#d0e5731">17.9. Using mod_cluster and SELinux.</a></span></dt><dt><span class="section"><a href="faq.html#systemproperties">17.10. System properties to modify behaviour</a></span></dt></dl></dd></dl></div></div><ul class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="Intro.html"><strong>Next</strong>Chapter 1. Overview</a></li></ul></body></html>