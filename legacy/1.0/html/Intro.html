<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 1. Overview</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Mod_cluster doc"/><link rel="up" href="index.html" title="Mod_cluster doc"/><link rel="prev" href="index.html" title="Mod_cluster doc"/><link rel="next" href="Quick_Start_Guide.html" title="Chapter 2. Quick Start Guide"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="index.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="Quick_Start_Guide.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Intro"/>Chapter 1. Overview</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="Intro.html#d0e12">1.1. Platforms</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e33">1.2. Advantages</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e65">1.3. Requirements</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e77">1.4. 
      Downloads</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e125">1.5. Quick Start</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e133">1.6. Configuration</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e155">1.7. Migration</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e173">1.8. SSL support</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e187">1.9. Load Balancing Demo Application</a></span></dt><dt><span class="sect1"><a href="Intro.html#d0e195">1.10. Strong cryptography warning</a></span></dt></dl></div><p>mod_cluster is an httpd-based load balancer. Like mod_jk and mod_proxy, mod_cluster uses a communication channel to forward requests from httpd to one of a set of application server nodes. Unlike mod_jk and mod_proxy, mod_cluster leverages an additional connection between the application server nodes and httpd. The application server nodes use this connection to transmit server-side load balance factors and lifecycle events back to httpd via a custom set of HTTP methods, affectionately called the Mod-Cluster Management Protocol (MCMP). This additional feedback channel allows mod_cluster to offer a level of intelligence and granularity not found in other load balancing solutions.</p><p>Within httpd, mod_cluster is implemented as a set of modules for httpd with mod_proxy enabled. Much of the logic comes from mod_proxy, e.g. mod_proxy_ajp provides all the AJP logic needed by mod_cluster.</p><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e12"/>1.1. Platforms</h2></div></div></div><p>JBoss already prepares <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/mod_cluster/downloads.html">binary packages</a> with httpd and mod_cluster so you can quickly try mod_cluster on the following platforms:</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>Linux x86, x64, ia64 </p></li><li><p>Solaris x86, SPARC </p></li><li><p>Windows x86, x64, ia64 </p></li><li><p>HP-UX PA-RISC, ia64 </p></li></ol></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e33"/>1.2. Advantages</h2></div></div></div><p>mod_cluster boasts the following advantages over other httpd-based load balancers:</p><p>Dynamic configuration of httpd workers </p><p>Traditional httpd-based load balancers require explicit configuration of the workers available to a proxy. In mod_cluster, the bulk of the proxy's configuration resides on the application servers. The set of proxies to which an application server will communicate is determined either by a static list or using dynamic discovery via the <a href="javaproperties.html#advertise">advertise</a> mechanism. The application server relays lifecycle events (e.g. server startup/shutdown) to the proxies allowing them to effectively auto-configure themselves. Notably, the graceful shutdown of a server will not result in a failover response by a proxy, as is the case with traditional httpd-based load balancers. </p><p>Server-side load balance factor calculation </p><p>In contrast with traditional httpd-based load balancers, mod_cluster uses load balance factors calculated and provided by the application servers, rather than computing these in the proxy. Consequently, mod_cluster offers a more robust and accurate set of load metrics than is available from the proxy. (see <a href="javaload.html" title="Chapter 9. Load Metrics">Load Metrics</a> for more) </p><p>Fine grained web-app lifecycle control </p><p>Traditional httpd-based load balancers do not handle web application undeployments particularly well. From the proxy's perspective requests to an undeployed web application are indistinguishable from a request for an non-existent resource, and will result in 404 errors. In mod_cluster, each server forwards any web application context lifecycle events (e.g. web-app deploy/undeploy) to the proxy informing it to start/stop routing requests for a given context to that server. </p><p>AJP is optional </p><p>Unlike mod_jk, mod_cluster does not require AJP. httpd connections to application server nodes can use HTTP, HTTPS, or AJP. </p><p>The original concepts are described in a <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/community/docs/DOC-11431">wiki</a>.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e65"/>1.3. Requirements</h2></div></div></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>httpd-2.2.8+ </p></li><li><p>JBoss AS 5.0.0+ or JBossWeb 2.1.1+ </p></li></ol></div><p>Note: httpd-2.2.8+ is already in the bundles, so if you use the bundle you don't need to download Apache httpd.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e77"/>1.4. 
      <a id="download"/>Downloads</h2></div></div></div><p>Download the latest mod_cluster release <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.jboss.org/mod_cluster/downloads/latest">here</a>.</p><p>The release is comprised of the following artifacts:</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>httpd binaries for common platforms </p></li><li><p>JBoss AS/JBossWeb/Tomcat binary distribution </p></li></ol></div><p>Alternatively, you can build from source using the subversion repository:</p><p>
      <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://anonsvn.jboss.org/repos/mod_cluster/tags/">http://anonsvn.jboss.org/repos/mod_cluster/tags/</a>
      <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://anonsvn.jboss.org/repos/mod_cluster/tags/">
         <span class="emphasis"><em>release</em></span>
      </a>
      <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://anonsvn.jboss.org/repos/mod_cluster/tags/">/</a>
   </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>Building <a href="building.html" title="Chapter 4. Building mod_cluster from sources">httpd modules</a> 
         </p></li><li><p>Building <a href="javabuilding.html" title="Chapter 7. Building mod_cluster's Java components from source">Java archives</a> 
         </p></li></ol></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e125"/>1.5. Quick Start</h2></div></div></div><p>If you want to skip the details and just set up a minimal working installation of mod_cluster, see the <a href="Quick_Start_Guide.html" title="Chapter 2. Quick Start Guide">Quick Start Guide</a>.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e133"/>1.6. Configuration</h2></div></div></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>Configuring <a href="nativeconfig.html" title="Chapter 3. native configuration">httpd</a> 
         </p></li><li><p>Configuring <a href="javaconf.html" title="Chapter 6. java configuration">JBoss AS/Web</a> 
         </p></li><li><p>Configuring <a href="javaconf.html#tomcat" title="6.2. JBoss Web &amp; Tomcat">Tomcat</a> 
         </p></li></ol></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e155"/>1.7. Migration</h2></div></div></div><p>Migrating from mod_jk or mod_proxy is fairly straight forward. In general, much of the configuration previously found in httpd.conf is now defined in the application server nodes.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>Migrating from <a href="mod_jk.html" title="Chapter 13. Migration from mod_jk">mod_jk</a> 
         </p></li><li><p>Migrating from <a href="mod_proxy.html" title="Chapter 14. Migration from mod_proxy">mod_proxy</a> 
         </p></li></ol></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e173"/>1.8. SSL support</h2></div></div></div><p>Both the request connections between httpd and the application server nodes, and the feedback channel between the nodes and httpd can be secured. The former is achieved via the <a href="mod_proxy_https.html" title="Chapter 11. Using https between httpd and JBossWEB">mod_proxy_https module</a> and a corresponding ssl-enabled HTTP connector in JBoss Web. The latter requires the <a href="UsingSSL.html" title="Chapter 12. Using SSL in mod_cluster">mod_ssl module</a> and <a href="javaconf.html" title="Chapter 6. java configuration">explicit configuration in JBoss AS/Web</a>.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e187"/>1.9. Load Balancing Demo Application</h2></div></div></div><p>The mod_cluster binary distribution for JBoss AS/JBossWeb/Tomcat includes a <a href="demo.html" title="Chapter 15. Load Balancing Demo Application">demo application</a> that helps demonstrate how different server-side scenarios affect the routing of client requests by the load balancer. The demo application is located in the mod_cluster distribution's demo directory.</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="d0e195"/>1.10. Strong cryptography warning</h2></div></div></div><p>Mod_cluster contains mod_ssl, therefore the warning (copied from <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.openssl.org/">OpenSSL</a>)</p><p> </p><p>PLEASE REMEMBER THAT EXPORT/IMPORT AND/OR USE OF STRONG CRYPTOGRAPHY SOFTWARE, PROVIDING CRYPTOGRAPHY HOOKS OR EVEN JUST COMMUNICATING TECHNICAL DETAILS ABOUT CRYPTOGRAPHY SOFTWARE IS ILLEGAL IN SOME PARTS OF THE WORLD. SO, WHEN YOU IMPORT THIS PACKAGE TO YOUR COUNTRY, RE-DISTRIBUTE IT FROM THERE OR EVEN JUST EMAIL TECHNICAL SUGGESTIONS OR EVEN SOURCE PATCHES TO THE AUTHOR OR OTHER PEOPLE YOU ARE STRONGLY ADVISED TO PAY CLOSE ATTENTION TO ANY EXPORT/IMPORT AND/OR USE LAWS WHICH APPLY TO YOU. THE AUTHORS OF OPENSSL ARE NOT LIABLE FOR ANY VIOLATIONS YOU MAKE HERE. SO BE CAREFUL, IT IS YOUR RESPONSIBILITY.</p><p> </p><p/><p/></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="index.html"><strong>Prev</strong>Mod_cluster doc</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="Quick_Start_Guide.html"><strong>Next</strong>Chapter 2. Quick Start Guide</a></li></ul></body></html>