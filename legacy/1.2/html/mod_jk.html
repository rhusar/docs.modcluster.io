<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 13. Migration from mod_jk</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="mod_cluster Documentation"/><link rel="up" href="index.html" title="mod_cluster Documentation"/><link rel="prev" href="UsingSSL.html" title="Chapter 12. Using SSL in mod_cluster"/><link rel="next" href="mod_proxy.html" title="Chapter 14. Migration from mod_proxy"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="UsingSSL.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="mod_proxy.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="mod_jk"/>Chapter 13. Migration from mod_jk</h2></div></div></div><p>Mod_cluster only support Apache httpd, there are no plan to support
  IIS or Iplanet.</p><p>The migration from mod_jk to mod_cluster is not very complex. Only
  very few worker properties can't be mapped to mod_cluster parameters.</p><p>Here is the table of worker properties and how to transfer them in the
  ClusterListener parameters.</p><div class="informaltable"><table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th><p>mod_jk worker property</p></th><th><p>ClusterListener parameter</p></th><th><p>Remarks</p></th></tr></thead><tbody><tr><td><p>host</p></td><td><p>-</p></td><td><p>It is read from the &lt;Connector/&gt; Address
          information</p></td></tr><tr><td><p>port</p></td><td><p>-</p></td><td><p>It is read from the &lt;Connector/&gt; Port
          information</p></td></tr><tr><td><p>type</p></td><td><p>-</p></td><td><p>It is read from the &lt;Connector/&gt; Protocol
          information</p></td></tr><tr><td><p>route</p></td><td><p>-</p></td><td><p>It is read from the &lt;Engine/&gt; JVMRoute
          information</p></td></tr><tr><td><p>domain</p></td><td><p>domain</p></td><td><p>That is not supported in this version</p></td></tr><tr><td><p>redirect</p></td><td><p>-</p></td><td><p>The nodes with loadfactor = 0 are standby nodes they
          will be used no other nodes are available</p></td></tr><tr><td><p>socket_timeout</p></td><td><p>nodeTimeout</p></td><td><p>Default 10 seconds</p></td></tr><tr><td><p>socket_keepalive</p></td><td><p>-</p></td><td><p>KEEP_ALIVE os is always on in
          mod_cluster</p></td></tr><tr><td><p>connection_pool_size</p></td><td><p>-</p></td><td><p>The max size is calculated to be AP_MPMQ_MAX_THREADS+1
          (max)</p></td></tr><tr><td><p>connection_pool_minsize</p></td><td><p>smax</p></td><td><p>The defaut is max</p></td></tr><tr><td><p>connection_pool_timeout</p></td><td><p>ttl</p></td><td><p>Time to live when over smax connections. The defaut is
          60 seconds</p></td></tr><tr><td><p>-</p></td><td><p>workerTimeout</p></td><td><p>Max time to wait for a free worker default 1
          second</p></td></tr><tr><td><p>retries</p></td><td><p>maxAttempts</p></td><td><p>Max retries before returning an error Default:
          3</p></td></tr><tr><td><p>recovery_options</p></td><td><p>-</p></td><td><p>mod_cluster behave like mod_jk with value
          7</p></td></tr><tr><td><p>fail_on_status</p></td><td><p>-</p></td><td><p>Not supported</p></td></tr><tr><td><p>max_packet_size</p></td><td><p>iobuffersize/receivebuffersize</p></td><td><p>Not supported in this version. Use
          ProxyIOBufferSize</p></td></tr><tr><td><p>max_reply_timeouts</p></td><td><p>-</p></td><td><p>Not supported</p></td></tr><tr><td><p>recovert_time</p></td><td><p>-</p></td><td><p>The ClusterListener will tell (via a STATUS message)
          mod_cluster that the node is up again</p></td></tr><tr><td><p>activation</p></td><td><p>-</p></td><td><p>mod_cluster receives this information via
          ENABLE/DISABLE/STOP messages</p></td></tr><tr><td><p>distance</p></td><td><p>-</p></td><td><p>mod_cluster handles this via the loadfactor
          logic</p></td></tr><tr><td><p>mount</p></td><td><p>-</p></td><td><p>The context "mounted" automaticly via the ENABLE-APP
          messages. ProxyPass could be used too</p></td></tr><tr><td><p>secret</p></td><td><p>-</p></td><td><p>Not supported</p></td></tr><tr><td><p>connect_timeout</p></td><td><p>-</p></td><td><p>Not supported. Use ProxyTimeout or server TimeOut
          (Default 300 seconds)</p></td></tr><tr><td><p>prepost_timeout</p></td><td><p>ping</p></td><td><p>Default 10 seconds</p></td></tr><tr><td><p>reply_timeout</p></td><td><p>-</p></td><td><p>Not supported. Use ProxyTimeout or server TimeOut?
          directive (Default 300 seconds)</p></td></tr></tbody></table></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="UsingSSL.html"><strong>Prev</strong>Chapter 12. Using SSL in mod_cluster</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="mod_proxy.html"><strong>Next</strong>Chapter 14. Migration from mod_proxy</a></li></ul></body></html>