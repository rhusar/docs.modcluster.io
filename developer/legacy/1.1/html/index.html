<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">mod_cluster Documentation</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="mod_cluster Documentation"/><link rel="next" href="Intro.html" title="Chapter 1. Overview"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="Intro.html"><strong>Next</strong></a></li></ul><div class="book" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="d0e1"/>mod_cluster Documentation</h1></div></div><hr/></div><div class="toc"><dl><dt><span class="chapter"><a href="Intro.html">1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="Intro.html#d0e11">1.1. Platforms</a></span></dt><dt><span class="section"><a href="Intro.html#d0e32">1.2. Advantages</a></span></dt><dt><span class="section"><a href="Intro.html#d0e72">1.3. Requirements</a></span></dt><dt><span class="section"><a href="Intro.html#d0e85">1.4. Limitations</a></span></dt><dt><span class="section"><a href="Intro.html#download">1.5. Downloads</a></span></dt><dt><span class="section"><a href="Intro.html#d0e162">1.6. Configuration</a></span></dt><dt><span class="section"><a href="Intro.html#d0e186">1.7. Migration</a></span></dt><dt><span class="section"><a href="Intro.html#d0e202">1.8. SSL support</a></span></dt><dt><span class="section"><a href="Intro.html#d0e216">1.9. Load Balancing Demo Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="Quick_Start_Guide.html">2. Quick Start Guide</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e250">2.1. Download mod_cluster components</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e261">2.2. Install the httpd binary</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e264">2.2.1. Install the whole httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e276">2.2.2. Install only the modules</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e304">2.2.3. Install in home directory</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e315">2.2.4. Install in Windows</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e349">2.3. Configure httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e363">2.4. Install the server-side binaries</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e370">2.4.1. Installing in JBoss AS 6.x</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e375">2.4.2. Installing in JBoss AS 5.x</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e382">2.4.3. Installing in JBoss Web or Tomcat</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e389">2.4.4. Installing in JBoss AS 4.2.x or 4.3.x</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e396">2.5. Configuring the server-side</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e399">2.5.1. Configuring mod_cluster with JBoss AS 5.x+</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e404">2.5.2. Configuring mod_cluster with standalone JBoss Web or Tomcat</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e414">2.5.3. Integrate mod_cluster with JBoss AS 4.2.x and 4.3.x</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e424">2.6. Start httpd</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e431">2.7. Start the back-end server</a></span></dt><dd><dl><dt><span class="section"><a href="Quick_Start_Guide.html#d0e434">2.7.1. Starting JBoss AS</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e439">2.7.2. Starting JBossWeb or Tomcat</a></span></dt></dl></dd><dt><span class="section"><a href="Quick_Start_Guide.html#d0e444">2.8. Set up more back-end servers</a></span></dt><dt><span class="section"><a href="Quick_Start_Guide.html#d0e449">2.9. Experiment with the Load Balancing Demo Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.config.html">3. httpd configuration</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e460">3.1. Apache httpd configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e477">3.2. mod_proxy configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e482">3.3. mod_slotmem configuration</a></span></dt><dt><span class="section"><a href="native.config.html#d0e487">3.4. mod_proxy_cluster</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e490">3.4.1. CreateBalancers</a></span></dt><dt><span class="section"><a href="native.config.html#d0e510">3.4.2. UseAlias</a></span></dt><dt><span class="section"><a href="native.config.html#d0e524">3.4.3. LBstatusRecalTime</a></span></dt><dt><span class="section"><a href="native.config.html#d0e543">3.4.4. ProxyPassMatch/ProxyPass</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#d0e553">3.5. mod_manager</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e561">3.5.1. MemManagerFile</a></span></dt><dt><span class="section"><a href="native.config.html#d0e568">3.5.2. Maxcontext</a></span></dt><dt><span class="section"><a href="native.config.html#d0e575">3.5.3. Maxnode</a></span></dt><dt><span class="section"><a href="native.config.html#d0e582">3.5.4. Maxhost</a></span></dt><dt><span class="section"><a href="native.config.html#d0e589">3.5.5. Maxsessionid</a></span></dt><dt><span class="section"><a href="native.config.html#d0e596">3.5.6. ManagerBalancerName</a></span></dt><dt><span class="section"><a href="native.config.html#d0e603">3.5.7. PersistSlots</a></span></dt><dt><span class="section"><a href="native.config.html#d0e610">3.5.8. CheckNonce</a></span></dt><dt><span class="section"><a href="native.config.html#d0e617">3.5.9. AllowDisplay</a></span></dt><dt><span class="section"><a href="native.config.html#d0e624">3.5.10. AllowCmd</a></span></dt><dt><span class="section"><a href="native.config.html#d0e631">3.5.11. ReduceDisplay</a></span></dt><dt><span class="section"><a href="native.config.html#SetHandlermod_cluster-manager">3.5.12. SetHandler mod_cluster-manager</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#mod_advertise">3.6. mod_advertise</a></span></dt><dd><dl><dt><span class="section"><a href="native.config.html#d0e666">3.6.1. ServerAdvertise</a></span></dt><dt><span class="section"><a href="native.config.html#d0e680">3.6.2. AdvertiseGroup</a></span></dt><dt><span class="section"><a href="native.config.html#d0e687">3.6.3. AdvertiseFrequency</a></span></dt><dt><span class="section"><a href="native.config.html#d0e694">3.6.4. AdvertiseSecurityKey</a></span></dt><dt><span class="section"><a href="native.config.html#d0e701">3.6.5. AdvertiseManagerUrl</a></span></dt><dt><span class="section"><a href="native.config.html#d0e708">3.6.6. AdvertiseBindAddress</a></span></dt></dl></dd><dt><span class="section"><a href="native.config.html#MinimalExample">3.7. Minimal Example</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.building.html">4. Building httpd modules</a></span></dt><dd><dl><dt><span class="section"><a href="native.building.html#d0e724">4.1. Build a patched httpd from it sources</a></span></dt><dt><span class="section"><a href="native.building.html#d0e744">4.2. Build the 4 modules of mod_cluster</a></span></dt><dt><span class="section"><a href="native.building.html#d0e770">4.3. Build the mod_proxy module</a></span></dt></dl></dd><dt><span class="chapter"><a href="native.install.html">5. Installing httpd modules</a></span></dt><dd><dl><dt><span class="section"><a href="native.install.html#d0e788">5.1. Configuration</a></span></dt><dt><span class="section"><a href="native.install.html#d0e799">5.2. Installing and using the bundles</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.config.html">6. Server-side Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#ModClusterListener">6.1. JBoss AS</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#ModClusterService">6.1.1. Non-clustered mode</a></span></dt><dt><span class="section"><a href="java.config.html#HAModClusterService">6.1.2. Clustered mode</a></span></dt><dt><span class="section"><a href="java.config.html#ModClusterConfig">6.1.3. Configuration Properties</a></span></dt><dt><span class="section"><a href="java.config.html#d0e960">6.1.4. Connectors</a></span></dt><dt><span class="section"><a href="java.config.html#jvm-route">6.1.5. Node Identity</a></span></dt></dl></dd><dt><span class="section"><a href="java.config.html#tomcat">6.2. JBoss Web &amp; Tomcat</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#d0e1042">6.2.1. Lifecycle Listener</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1059">6.2.2. Additional Tomcat dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="java.config.html#d0e1067">6.3. Migrating from 1.0.x</a></span></dt><dd><dl><dt><span class="section"><a href="java.config.html#d0e1072">6.3.1. Dependency with JBoss Web</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1084">6.3.2. server.xml</a></span></dt><dt><span class="section"><a href="java.config.html#d0e1118">6.3.3. mod_cluster-jboss-beans.xml</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.AS7config.html">7. AS7 modcluster subsystem Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystem">7.1. ModCluster Subsystem in JBoss AS7</a></span></dt><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystemMiniConfiguration">7.2. ModCluster Subsystem minimal configuration</a></span></dt><dt><span class="section"><a href="java.AS7config.html#ModClusterSubSystemConfiguration">7.3. ModCluster Subsystem configuration</a></span></dt><dd><dl><dt><span class="section"><a href="java.AS7config.html#AS7ModClusterConfig">7.3.1. mod-cluster-config Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#SimpleLoadProvider">7.3.2. simple-load-provider Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#DynamicLoadProvider">7.3.3. dynamic-load-provider Attributes</a></span></dt><dt><span class="section"><a href="java.AS7config.html#LoadMetric">7.3.4. load-metric Configuration</a></span></dt><dt><span class="section"><a href="java.AS7config.html#CustomLoadMetric">7.3.5. custom-load-metric Configuration</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.building.html">8. Building Server-Side Components</a></span></dt><dd><dl><dt><span class="section"><a href="java.building.html#d0e1495">8.1. Requirements</a></span></dt><dt><span class="section"><a href="java.building.html#d0e1507">8.2. Building</a></span></dt><dt><span class="section"><a href="java.building.html#d0e1532">8.3. Build Artifacts</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.properties.html">9. Server-side Configuration Properties</a></span></dt><dd><dl><dt><span class="section"><a href="java.properties.html#mcmp">9.1. Proxy Discovery Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#proxy">9.2. Proxy Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#ssl">9.3. SSL Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#ha">9.4. HA Configuration</a></span></dt><dt><span class="section"><a href="java.properties.html#load">9.5. Load Configuration for JBoss Web and Tomcat</a></span></dt></dl></dd><dt><span class="chapter"><a href="java.load.html">10. Server-Side Load Metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#d0e2406">10.1. Web Container metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#ActiveSessionsLoadMetric">10.1.1. <code class="code">ActiveSessionsLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#BusyConnectorsLoadMetric">10.1.2. <code class="code">BusyConnectorsLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#ReceiveTrafficLoadMetric">10.1.3. <code class="code">ReceiveTrafficLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#SendTrafficLoadMetric">10.1.4. <code class="code">SendTrafficLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#RequestCountLoadMetric">10.1.5. <code class="code">RequestCountLoadMetric</code></a></span></dt></dl></dd><dt><span class="section"><a href="java.load.html#d0e2521">10.2. System/JVM metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#AverageSystemLoadMetric">10.2.1. <code class="code">AverageSystemLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#SystemMemoryUsageLoadMetric">10.2.2. <code class="code">SystemMemoryUsageLoadMetric</code></a></span></dt><dt><span class="section"><a href="java.load.html#HeapMemoryUsageLoadMetric">10.2.3. <code class="code">HeapMemoryUsageLoadMetric</code></a></span></dt></dl></dd><dt><span class="section"><a href="java.load.html#d0e2575">10.3. Other metrics</a></span></dt><dd><dl><dt><span class="section"><a href="java.load.html#ConnectionPoolUsageLoadMetric">10.3.1. <code class="code">ConnectionPoolUsageLoadMetric</code></a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="java.install.html">11. Installing Server-Side Components</a></span></dt><dd><dl><dt><span class="section"><a href="java.install.html#d0e2600">11.1. Installing in JBoss AS 6.0.0.M1 and up</a></span></dt><dt><span class="section"><a href="java.install.html#d0e2605">11.2. Installing in JBoss AS 5.x</a></span></dt><dt><span class="section"><a href="java.install.html#d0e2612">11.3. Installing in JBoss Web or Tomcat</a></span></dt><dt><span class="section"><a href="java.install.html#d0e2619">11.4. Installing in JBoss AS 4.2.x or 4.3.x</a></span></dt></dl></dd><dt><span class="chapter"><a href="UsingSSL.html">12. Using SSL in mod_cluster</a></span></dt><dd><dl><dt><span class="sect1"><a href="UsingSSL.html#d0e2631">12.1. Using SSL between JBossWEB and httpd</a></span></dt><dd><dl><dt><span class="sect2"><a href="UsingSSL.html#d0e2636">12.1.1. Apache httpd configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2651">12.1.2. ClusterListener configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2665">12.1.3. mod-cluster-jboss-beans configuration part</a></span></dt><dt><span class="sect2"><a href="UsingSSL.html#d0e2675">12.1.4. How the diferent files were created</a></span></dt></dl></dd><dt><span class="sect1"><a href="UsingSSL.html#mod_proxy_https">12.2. Using SSL between httpd and JBossWEB</a></span></dt><dd><dl><dt><span class="sect2"><a href="UsingSSL.html#d0e2769">12.2.1. How the diferent files were created</a></span></dt></dl></dd><dt><span class="sect1"><a href="UsingSSL.html#d0e2818">12.3. Forwarding SSL browser informations when using http/https between
    httpd and JBossWEB</a></span></dt></dl></dd><dt><span class="chapter"><a href="mod_jk.html">13. Migration from mod_jk</a></span></dt><dt><span class="chapter"><a href="mod_proxy.html">14. Migration from mod_proxy</a></span></dt><dd><dl><dt><span class="sect1"><a href="mod_proxy.html#d0e3128">14.1. Workers</a></span></dt><dt><span class="sect1"><a href="mod_proxy.html#d0e3325">14.2. Balancers</a></span></dt></dl></dd><dt><span class="chapter"><a href="demo.html">15. Load Balancing Demo Application</a></span></dt><dd><dl><dt><span class="section"><a href="demo.html#d0e3396">15.1. Overview</a></span></dt><dt><span class="section"><a href="demo.html#d0e3420">15.2. Basic Usage</a></span></dt><dt><span class="section"><a href="demo.html#client-config">15.3. Client Driver Configuration Options</a></span></dt><dt><span class="section"><a href="demo.html#load-generation">15.4. Load Generation Scenarios</a></span></dt></dl></dd><dt><span class="chapter"><a href="changelog.html">16. Change Log</a></span></dt><dd><dl><dt><span class="section"><a href="changelog.html#d0e3639">16.1. 1.1.3.Final (12 August 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3685">16.2. 1.1.2.Final (21 April 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3791">16.3. 1.1.1.Final (31 January 2011)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e3917">16.4. 1.1.0.Final (13 August 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4043">16.5. 1.1.0.CR3 (15 June 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4139">16.6. 1.1.0.CR2 (11 May 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4235">16.7. 1.1.0.CR1 (22 March 2010)</a></span></dt><dt><span class="section"><a href="changelog.html#d0e4441">16.8. 1.1.0.Beta1 (30 October 2009)</a></span></dt></dl></dd><dt><span class="chapter"><a href="faq.html">17. Frequently Asked questions</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#advertisemessage">17.1. What is Advertise</a></span></dt><dt><span class="section"><a href="faq.html#d0e4669">17.2. What to do if I don't want to use Advertise (multicast):</a></span></dt><dt><span class="section"><a href="faq.html#d0e4684">17.3. I am using Tomcat 7 / 6 what should I do:</a></span></dt><dt><span class="section"><a href="faq.html#d0e4692">17.4. It is not working what should I do:</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#d0e4697">17.4.1. No error</a></span></dt><dt><span class="section"><a href="faq.html#d0e4748">17.4.2. Error in server.log or catalina.out</a></span></dt><dt><span class="section"><a href="faq.html#d0e4774">17.4.3. Error in error_log</a></span></dt></dl></dd></dl></dd></dl></div></div><ul class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="Intro.html"><strong>Next</strong>Chapter 1. Overview</a></li></ul></body></html>